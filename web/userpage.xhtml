<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
     
     
    <h:head>        
        <link rel="stylesheet" type="text/css" href="/resources/css/styles.css" />
    </h:head>
 
    <h:body>
        <h:form>
            <p:tabMenu activeIndex="1">
                <p:menuitem value="Início" outcome="home.xhtml">
                    <f:param name="i" value="0" />
                </p:menuitem>
                    
                <p:menuitem value="Minha Página" action="#{userBean.getUserProducts}" rendered="#{sessionBean.logged == true}">
                    <f:param name="i" value="1" />
                </p:menuitem>
                
                <p:menuitem value="Sair" action="#{authenticationBean.logout}" rendered="#{sessionBean.logged == true}">
                    <f:param name="i" value="2" />
                </p:menuitem>
                
                <p:menuitem value="Entrar" outcome="login.xhtml" rendered="#{sessionBean.logged == false}">
                    <f:param name="i" value="3" />
                </p:menuitem>
            </p:tabMenu>
        </h:form>
        
        <h:outputText id="cash" value="#{userBean.user.cash}"/>
        <p:commandButton value="Depositar Dinheiro!" action="#{userBean.addCash}"/>      
        
        <h:outputText id="credit" value="#{userBean.user.credits}"/>
        
        <p:commandButton value="Comprar 50 TilBacas!" action="#{userBean.buyCredit(50)}"/>  
        <p:commandButton value="Comprar 100 TilBacas!" action="#{userBean.buyCredit(100)}"/>  
        <p:commandButton value="Comprar 200 TilBacas!" action="#{userBean.buyCredit(200)}"/>  
        
            <div class="ui-g">
                    <ui:repeat var="product" value="#{userBean.produtos}">
                    <ui:include src="userproduct.xhtml">
                        <ui:param name="product" value="#{product}" />
                    </ui:include>
                </ui:repeat>
            </div>
            
      
             
    </h:body>
</html>
